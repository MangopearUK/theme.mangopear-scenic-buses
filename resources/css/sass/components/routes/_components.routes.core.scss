/**
 * [Component] Routes: Core styling
 *
 * @package     scenic-buses
 * @category    styles
 * @version     4.0.0
 * @since       4.0.0
 * @author      Andi North <andi@mangopear.co.uk>
 * @link        https://mangopear.co.uk/
 * @license     GNU General Public License <http://opensource.org/licenses/gpl-license.php>
 */


/**
 * CHANGELOG
 *
 * @version 4.0.0
 *          Init file
 */


/**
 * CONTENTS
 *
 * [1]  Route > Single titles
 * [2]	Route > Title > Introduction
 * [3]	Route > Places
 * [4]	Scenic panels
 * [5]	Route > Description > Links
 * [6]	Route listing item
 * [7]	Gallery
 * [8]	Carousels
 * [9]	Route features
 * [10]	Copyright information for media
 * [11]	Route > Reviews
 */


/**
 * [1]  Route > Single titles
 */

.c-title--routes {
	.c-title__image {
		@include rempx(margin-bottom, 12px);
	}
}


	.c-title__title__sub {
		display: block;
		font-size: 70%;
		font-weight: normal;
		color: $grey--medium;
		@include rempx(padding, 10px 0 0);
	}





/**
 * [2]	Route > Title > Introduction
 */

.c-title__intro {
	text-align: center;
	@include rempx(max-width, 550px);
	@include rempx(margin-top, -40px);
	@include rempx(margin-bottom, 42px);
}





/**
 * [3]	Route > Places
 */

.c-places__place {
	.c-article__title {
		width: 92.5%;
		font-weight: bold;
		@include rempx(font-size, 24px);
		@include rempx(margin-top, -46px);
		@include rempx(padding, 20px 20px 0 5px);
	}


	.c-article__content {
		@include rempx(font-size, 16px);
		@include rempx(padding, 0 22px 0 5px);

		p { margin: 1.5em 0; }
	}
}





/**
 * [4]	Scenic panels
 */

.c-scenic-panel {
	@include rempx(padding, 32px 12px);
}


	.c-scenic-panel__title {
		@include rempx(margin, 0 0 36px);
	}


	.c-scenic-panel__action-wrap {
		text-align: center;
		@include rempx(padding-top, 36px);
	}


		.c-scenic-panel__action {
			width: 33%;
			@include mangui-breakpoint(lap)  { width:  50%; }
			@include mangui-breakpoint(palm) { width: 100%; }

			.o-button__text { float: left; @include rempx(padding, 8px 0 0 8px); }
			.o-button__icon { float: right; }
		}





/**
 * [5]	Route > Description > Links
 */

.c-route__description__links {
    border-top: 3px solid $grey--light;
    border-bottom: 3px solid $grey--light;
    @include rempx(margin, 0 -12px);
    @include rempx(padding, 0 12px);
}


	.c-route__description__links__title   { @include rempx(margin, 28px 0); }
	.c-route__description__link--operator { @include rempx(margin, 26px 0 26px); }





/**
 * [6]	Route listing item
 */

.c-article__title__link { text-decoration: none; }


	.c-article__title__operator {
		display: block;
		font-size: 0.8em;
		padding-top: 0.25em;
		font-weight: normal;
		color: $grey--dark;
	}


	.c-article__title__route { text-decoration: underline; }





/**
 * [7]	Gallery
 */

.c-scenic-panel--gallery {
	background: #f3f3f3;
	border-top: 5px solid #eaeaea;
	border-bottom: 5px solid #eaeaea;
	@include rempx(margin, 0 -12px);
	@include rempx(padding-left, 12px);
	@include rempx(padding-right, 12px);
}


	.c-gallery__item {
		width: 20%;
		display: inline-block;
		margin: 0 0 0 -0.25em;
		padding: 0 0.35em 0.35em 0;

		@include mangui-breakpoint(lap) { width: 25%; }
		@include mangui-breakpoint(palm) { width: 33.333%; }
	}


		.c-gallery__item__link {
			&:hover, &:active, &:focus { opacity: .7; }
		}





/**
 * [8]	Carousels
 */

	/**
	 * [i]	Routes > Carousel > Change overflows
	 *
	 * 		[a]	Set row to hidden for cropping
	 * 		[b]	Set carousel cut off to be visible
	 * 		[c]	Fix sizing issues with pods
	 */

	.c-scenic-panel--carousel {
		overflow: hidden;											// [a]
		.owl-stage-outer { overflow: visible; }						// [b]
			.o-flex__item { width: 100%; }							// [c]
	}





	/**
	 * [ii]	Routes > Carousel > Controls
	 */

	.c-scenic-panel--carousel {
		position: relative;


		.c-scenic-panel__title { @include rempx(padding-right, 130px); }
		.c-article--route { margin-bottom: 0; }


		.owl-controls {
			width: 100%;
			max-width: 1150px;


			.owl-nav {
				right: 0;
				position: absolute;
				@include rempx(top, -59px);


				.owl-prev, .owl-next {
					right: 0;
					outline: 0;
					background: #FFF;
					position: absolute;
					text-align: center;
					border: 2px solid $lime;
					top: calc(50% - 1.5rem);
					box-shadow: 0 2px 3px rgba(0,0,0,0.1);
					@include mangui-transition(ease-in-out 350ms all);
					@include rempx(width, 48px);
					@include rempx(height, 48px);
					@include rempx(border-radius, 48px);


					&:hover, &:active, &:focus {
						color: #FFF;
						background: $green;
						border-color: $green;
						box-shadow: 0 2px 3px rgba(0,0,0,0.2);
					}


					&:active, &:focus { border-color: $green; }


					.o-icon { margin: 0 0 -6px; }


					&.disabled {
						opacity: 0;
						pointer-events: none;
					}
				}


				.owl-prev { @include rempx(right, 55px); }
			}
		}
	}





	/**
	 * [iii]Routes > Carousel > Fade inactive items out
	 */

	.c-scenic-panel--carousel {
		.owl-item {
			@include mangui-transition(ease-in-out 350ms opacity);

			&:not(.active) {
				opacity: 0.25;
				pointer-events: none;
			}
		}
	}





/**
 * [9]	Route features
 */

.c-route-features {
	@include rempx(padding, 0 12px);
	@include mangui-breakpoint(portable) { display: none; }
}


	.c-route-features__list {
		margin: 0;
		padding: 0;
		text-align: center;
	}


		.c-route-features__item {
			color: #FFF;
			background: $green;
			white-space: nowrap;
			display: inline-block;
			@include rempx(margin, 4px 2px);
			@include rempx(padding, 6px 15px);
		}


			.c-route-features__item__icon {
				display: inline-block;
				vertical-align: middle;
				@include rempx(margin, -2px 6px 2px 0);
			}





/**
 * [10]	Copyright information for media
 */

.c-copyright-label {
	color: #FFF;
	z-index: 999;
	position: absolute;
	background: rgba(0,0,0,0.6);
	@include rempx(font-size, 12px);
	@include rempx(padding, 3px 10px 4px);


	a {
		color: #FFF;
	}
}


	.c-copyright-label--featured-image {
		right: 0;
		border-radius: 0 0 0 4px;
	}


	.c-copyright-label--listing-image {
		top: 0;
		right: 0;
		border-radius: 0 0 0 4px;
	}





/**
 * [11]	Route > Reviews
 *
 * 		@since 4.0.0
 */

.c-comment__title {
	font-weight: bold;
}


	.c-comment__title__stars {
		color: #9c830c;
		position: relative;
		@include rempx(top, 6px);
		@include rempx(margin-right, 20px);


		svg {
			@include rempx(width, 32px);
			@include rempx(height, 32px);
			@include rempx(margin-right, -3px);
		}
	}





.c-comments__header__ratings {
	@include rempx(margin, 0 0 0 36px);


	.c-comment__title__stars {
	    margin-right: 0;
	}


	.c-comments__header__ratings__total {
	    font-weight: normal;
	    letter-spacing: 0em;
		@include rempx(font-size, 20px);
	}
}





.acf-field .description {
	@include rempx(margin, 0 0 12px);
}


.acf-field[data-name="comments__rating"] {
	ul {
		padding: 0;
		@include rempx(margin, 0 0 24px);
	}


		li {
			display: inline-block;
			@include rempx(padding, 0 12px 0 0);


			label {
				margin: 0;
				cursor: pointer;
				white-space: nowrap;
				background: $grey--light;
				box-shadow: 0 0 0 3px rgba(0,0,0,0);
				@include rempx(padding, 8px 20px 0);
				@include rempx(border-radius, 30px);
				@include mangui-transition(ease-in-out 400ms all);


				&.selected {
					color: #FFF;
					background: $green;


					&:hover, &:active, &:focus {
						color: #FFF;
						background: $green;
					}


					input[type="radio"] {
						background: $green;
						border-color: #FFF;
					}
				}


				&:hover, &:active, &:focus {
					color: #FFF;
					background: $green;
				}


				&:focus {
					box-shadow: 0 0 0 3px $lime;
				}
			}


			input[type="radio"] {
				outline: 0;
				background: #FFF;
				border: 2px solid $lime;
				-webkit-appearance: button;
				@include rempx(width, 18px);
				@include rempx(height, 18px);
				@include rempx(margin, 0 9px 2px 0);
				@include rempx(border-radius, 20px);
				@include mangui-transition(ease-in-out 400ms all);


				&:focus { box-shadow: 0 0 0 3px $lime; }
			}
		}
}