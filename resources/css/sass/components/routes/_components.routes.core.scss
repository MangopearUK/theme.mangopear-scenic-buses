/**
 * [Component] Routes: Core styling
 *
 * @package     scenic-buses
 * @category    styles
 * @version     4.0.0
 * @since       4.0.0
 * @author      Andi North <andi@mangopear.co.uk>
 * @link        https://mangopear.co.uk/
 * @license     GNU General Public License <http://opensource.org/licenses/gpl-license.php>
 */


/**
 * CHANGELOG
 *
 * @version 4.0.0
 *          Init file
 */


/**
 * CONTENTS
 *
 * [1]	Route > Title
 * [2]	Route > Title > Introduction
 * [4]	Scenic panels
 * [5]	Route > Description > Links
 * [6]	Route listing item
 * [7]	Gallery
 * [8]	Carousels
 * [9]	Route features
 * [10]	Copyright information for media
 * [11]	Route > Reviews
 * [12]	Route > Description > Disclaimer
 */


/**
 * [1]  Route > Single titles
 */

.c-route-title {
	@include rempx(margin, 12px 0 0);
	@include mangui-breakpoint("max-width: 800px") { @include rempx(margin-top, -10px); }
	@include mangui-breakpoint("max-width: 634px") { @include rempx(margin, -12px -12px 0); }
}


	.c-route-title__grid-item--image {
		width: 40%;
		@include mangui-breakpoint("max-width: 1500px") { width:  45%; }
		@include mangui-breakpoint("max-width: 1300px") { width:  50%; }
		@include mangui-breakpoint("max-width:  800px") { width: 100%; }
	}


		.c-route-title__image {
			position: relative;
			@include rempx(height, 600px);

			@include mangui-breakpoint("max-width: 1500px") { @include rempx(height, 565px); }
			@include mangui-breakpoint("max-width: 1100px") { @include rempx(height, 515px); }

			@include mangui-breakpoint("max-width: 1000px") {
				@include rempx(height, 485px);
				@include rempx(margin-right, -15px);
			}

			@include mangui-breakpoint("max-width: 800px") {
				margin: 0 auto;
				@include rempx(height, 415px);
				@include rempx(max-width, 710px);
			}

			@include mangui-breakpoint("max-width: 500px") { @include rempx(height, 350px); }
			@include mangui-breakpoint("max-width: 410px") { @include rempx(height, 300px); }
			@include mangui-breakpoint("max-width: 385px") { @include rempx(height, 270px); }
			@include mangui-breakpoint("max-width: 360px") { @include rempx(height, 240px); }
		}


			.c-route-title__image-wrap {
				right: 0;
				height: 100%;
				position: absolute;
				@include rempx(width, 726px);

				@include mangui-breakpoint("max-width: 1700px") { width: calc(50vw - 8.125rem); }
				@include mangui-breakpoint("max-width: 1500px") { width: 45vw; }
				@include mangui-breakpoint("max-width: 1300px") { width: 49vw; }
				@include mangui-breakpoint("max-width: 1100px") { width: 50vw; }

				@include mangui-breakpoint("max-width: 800px") {
					width: 100%;
					right: auto;
					@include rempx(max-width, 710px);
				}
			}


				.c-route-title__image-asset {
					top: 0;
					right: 0;
					width: 100%;
					height: 100%;
					object-fit: cover;
					position: absolute;

					@include mangui-breakpoint("min-width: 1001px") {
						border: 8px solid #fcfcfc;
						box-shadow: 54px 54px 0 -42px rgba($lime, 0.55);
					}

					@include mangui-breakpoint("max-width: 1000px) and (min-width: 711px") {
						border: 6px solid #fcfcfc;
						box-shadow: 32px 32px 0 -24px rgba($lime, 0.55);
					}
				}





	/**
	 * [2]	Route > Title > Introduction
	 */

	.c-route-title__grid-item--content {
		width: 60%;
		@include mangui-breakpoint("max-width: 1500px") { width:  55%; }
		@include mangui-breakpoint("max-width: 1300px") { width:  50%; }
		@include mangui-breakpoint("max-width:  800px") { width: 100%; }
	}


		.c-route-title__content {
			@include mangui-breakpoint("max-width: 634px) and (min-width: 501px") { @include rempx(margin, 0 24px); }
			@include mangui-breakpoint("max-width: 500px") { @include rempx(margin, 0 12px); }
		}


		.c-route-title__header {
			position: relative;

			@include mangui-breakpoint("max-width: 800px) and (min-width: 635px") {
				@include rempx(max-width, 550px);
				@include rempx(margin, -108px auto 0);
			}


			@include mangui-breakpoint("max-width: 634px) and (min-width: 501px") { @include rempx(margin, -102px 24px 0); }
			@include mangui-breakpoint("max-width: 500px) and (min-width: 370px") { @include rempx(margin, -83px 12px 0); }
			@include mangui-breakpoint("max-width: 370px") { @include rempx(margin, 0 12px); }
		}


			.c-route-title__title {
				@include rempx(font-size, 44px);
				@include rempx(margin, 91px 0 0);

				@include mangui-breakpoint("max-width: 1000px") {
					@include rempx(font-size, 37px);
					@include rempx(margin-top, 41px);
				}

				@include mangui-breakpoint("max-width: 800px) and (min-width: 370px") {
					color: #FFF;
					background: rgba($lime, .65);
					text-shadow: 2px 2px 4px rgba(0,0,0,0.25);
					@include rempx(margin, 0 -24px 0);
					@include rempx(padding, 14px 24px 16px);
				}

				@include mangui-breakpoint("max-width: 500px) and (min-width: 370px") {
					@include rempx(font-size, 32px);
					@include rempx(padding, 10px 24px 11px);
				}

				@include mangui-breakpoint("max-width: 370px") {
					@include rempx(font-size, 32px);
					@include rempx(margin-top, 12px);
				}
			}


				.c-route-title__operator {
					display: block;
					font-weight: normal;
					color: $grey--dark;
					letter-spacing: -0.05em;
					@include rempx(font-size, 24px);
					@include rempx(padding, 3px 0 0 1px);

					@include mangui-breakpoint("max-width: 1000px") { @include rempx(font-size, 21px); }

					@include mangui-breakpoint("max-width: 800px) and (min-width: 370px") {
						color: rgba(white, 0.85);
						@include rempx(padding, 0 0 3px);
					}

					@include mangui-breakpoint("max-width: 500px") { @include rempx(font-size, 18px); }


					a {
						color: inherit;
						text-decoration-color: $grey--light;

						@include mangui-breakpoint("max-width: 800px) and (min-width: 370px") {
							color: #FFF;
							font-weight: bold;
							text-decoration-color: rgba(white, 0.85);
						}


						&:hover, &:active, &:focus {
							color: $green;
							text-decoration-color: $lime;

							@include mangui-breakpoint("max-width: 800px) and (min-width: 370px") {
								color: $grey--darker;
								text-decoration-color: $grey--medium;
							}
						}
					}
				}





			.c-route-title__destinations {
			    line-height: 1.2;
			    letter-spacing: -0.05em;
				@include rempx(font-size, 28px);
				@include rempx(margin, 35px 0 0);
			}


				.c-route-title__destinations-line--main {
				    display: block;
				}


				.c-route-title__destinations-line--byline {
				    display: block;
			    	line-height: 1.3;
				    font-weight: normal;
				    letter-spacing: -0.04em;
					@include rempx(font-size, 20px);
					@include rempx(padding, 6px 0 0);
				}





			.c-route-title__intro {
				line-height: 1.65;
				@include rempx(font-size, 17px);
				@include rempx(max-width, 550px);
				@include rempx(margin, 32px 0 26px);

				@include mangui-breakpoint("max-width: 1000px") { @include rempx(font-size, 15px); }
			}




			.c-route-title__frequencies {

			}


				.c-route-title__frequency {
					margin: 0;
					color: #fff;
					font-size: 1.45em;
					display: inline-block;
					letter-spacing: -0.025em;
				}


					.c-route-title__frequency__up-to {
						position: absolute;
						color: $green--pastel;
						letter-spacing: 0.05em;
						text-transform: uppercase;
						@include rempx(font-size, 10px);
						@include rempx(margin, -1px 0 0 1px);
					}


				.c-route-title__seasons {
					color: #FFF;
					font-weight: bold;
					vertical-align: top;
					display: inline-block;
					@include rempx(font-size, 14px);
					@include rempx(border-radius, 4px);
					@include rempx(margin, 2px 24px 0 0);
					@include rempx(padding, 2px 12px 6px 10px);


					&--summer { background: $orange; }
					&--all-year { background: $green; }
					&--spring-summer { background: #1e90ff; }


					.o-button__icon { @include rempx(margin, 1px 4px -1px 0); }
				}





/**
 * [4]	Scenic panels
 */

.c-scenic-panel {
	@include rempx(padding, 32px 12px);
}


	.c-scenic-panel__title {
		@include rempx(margin, 0 0 36px);
	}


	.c-scenic-panel__action-wrap {
		text-align: center;
		@include rempx(padding-top, 36px);
	}


		.c-scenic-panel__action {
			width: 33%;
			@include mangui-breakpoint(lap)  { width:  50%; }
			@include mangui-breakpoint(palm) { width: 100%; }

			.o-button__text { float: left; @include rempx(padding, 8px 0 0 8px); }
			.o-button__icon { float: right; }
		}





/**
 * [5]	Route > Description > Links
 */

.c-route__description__links {
	border-top: 3px solid $grey--light;
	border-bottom: 3px solid $grey--light;
	@include rempx(margin, 0 -12px);
	@include rempx(padding, 0 12px);
}


	.c-route__description__links__title   { @include rempx(margin, 28px 0); }
	.c-route__description__link--operator { @include rempx(margin, 26px 0 26px); }





/**
 * [6]	Route listing item
 */

.c-article__header {
	overflow: hidden;

	.c-article__image {
		transform-origin: 50% 50%;
		transition: ease-in-out 700ms all;
	}


	&:hover {
		.c-article__image {
			filter: blur(4px);
			transform: scale(1.03);
		}
	}


	&::before {
		left: 0;
		top: 50%;
		right: 0;
		bottom: 0;
		z-index: 5;
		content: '';
		position: absolute;
		background: linear-gradient(0deg, rgba(0,0,0,0.5), transparent);
	}
}


.c-article__title {
	position: unset;
	background: none;
	@include rempx(margin-top, -62px);
}

	.c-article__title__link {
		color: #fff;
		text-decoration: none;
		text-shadow: 0 3px 6px rgba(0,0,0,0.5);


		&::before {
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: 5;
			content: '';
			position: absolute;
			transition: ease-in-out 700ms background;
		}


		&:hover, &:active, &:focus {
			&::before { background: rgba(black, .175); }
		}
	}


		.c-article__title__operator {
			display: block;
			font-size: 0.8em;
			padding-top: 0.25em;
			font-weight: normal;
			color: $grey--dark;
		}


		.c-article__title__route {
			z-index: 10;
			position: relative;
			border-bottom: 8px solid $grey--lighter;
		}


.c-article__content {
	.c-route-destinations {
	    line-height: 1.2;
	    font-weight: bold;
	    letter-spacing: -0.02em;
		@include rempx(font-size, 18px);
		@include rempx(margin, 17px 0 10px);
	}


	.c-route-description {
	    margin: 0;
	    line-height: 1.6;
		@include rempx(font-size, 14px);
	}
}





/**
 * [7]	Gallery
 */

.c-scenic-panel--gallery {
	background: #f3f3f3;
	border-top: 5px solid #eaeaea;
	border-bottom: 5px solid #eaeaea;
	@include rempx(margin, 0 -12px);
	@include rempx(padding-left, 12px);
	@include rempx(padding-right, 12px);
}


	.c-gallery__item {
		width: 20%;
		display: inline-block;
		margin: 0 0 0 -0.25em;
		padding: 0 0.35em 0.35em 0;

		@include mangui-breakpoint(lap) { width: 25%; }
		@include mangui-breakpoint(palm) { width: 33.333%; }
	}


		.c-gallery__item__link {
			&:hover, &:active, &:focus { opacity: .7; }
		}





/**
 * [8]	Carousels
 */

	/**
	 * [i]	Routes > Carousel > Change overflows
	 *
	 * 		[a]	Set row to hidden for cropping
	 * 		[b]	Set carousel cut off to be visible
	 * 		[c]	Fix sizing issues with pods
	 */

	.c-scenic-panel--carousel {
		overflow: hidden;											// [a]
		.owl-stage-outer { overflow: visible; }						// [b]
			.o-flex__item { width: 100%; }							// [c]
	}





	/**
	 * [ii]	Routes > Carousel > Controls
	 */

	.c-scenic-panel--carousel {
		position: relative;


		.c-scenic-panel__title { @include rempx(padding-right, 130px); }
		.c-article--route { margin-bottom: 0; }


		.owl-controls {
			width: 100%;
			max-width: 1150px;


			.owl-nav {
				right: 0;
				position: absolute;
				@include rempx(top, -59px);


				.owl-prev, .owl-next {
					right: 0;
					outline: 0;
					background: #FFF;
					position: absolute;
					text-align: center;
					border: 2px solid $lime;
					top: calc(50% - 1.5rem);
					box-shadow: 0 2px 3px rgba(0,0,0,0.1);
					@include mangui-transition(ease-in-out 350ms all);
					@include rempx(width, 48px);
					@include rempx(height, 48px);
					@include rempx(border-radius, 48px);


					&:hover, &:active, &:focus {
						color: #FFF;
						background: $green;
						border-color: $green;
						box-shadow: 0 2px 3px rgba(0,0,0,0.2);
					}


					&:active, &:focus { border-color: $green; }


					.o-icon { margin: 0 0 -6px; }


					&.disabled {
						opacity: 0;
						pointer-events: none;
					}
				}


				.owl-prev { @include rempx(right, 55px); }
			}
		}
	}





	/**
	 * [iii]Routes > Carousel > Fade inactive items out
	 */

	.c-scenic-panel--carousel {
		.owl-item {
			@include mangui-transition(ease-in-out 350ms opacity);

			&:not(.active) {
				opacity: 0.25;
				pointer-events: none;
			}
		}
	}





/**
 * [9]	Route features
 */

.c-route-features {
	@include rempx(padding, 0 12px);
	@include mangui-breakpoint(portable) { display: none; }
}


	.c-route-features__list {
		margin: 0;
		padding: 0;
		text-align: center;
	}


		.c-route-features__item {
			color: #FFF;
			background: $green;
			white-space: nowrap;
			display: inline-block;
			@include rempx(margin, 4px 2px);
			@include rempx(padding, 6px 15px);
		}


			.c-route-features__item__icon {
				display: inline-block;
				vertical-align: middle;
				@include rempx(margin, -2px 6px 2px 0);
			}





/**
 * [10]	Copyright information for media
 */

.c-copyright-label {
	color: #FFF;
	z-index: 999;
	position: absolute;
	background: rgba(0,0,0,0.6);
	@include rempx(font-size, 12px);
	@include rempx(padding, 3px 10px 4px);


	a {
		color: #FFF;
	}
}


	.c-copyright-label--featured-image {
		right: 0;
		border-radius: 0 0 0 4px;
	}


	.c-copyright-label--listing-image {
		top: 0;
		right: 0;
		border-radius: 0 0 0 4px;
	}





/**
 * [11]	Route > Reviews
 *
 * 		@since 4.0.0
 */

.c-comment__title {
	font-weight: bold;
}


	.c-comment__title__stars {
		color: $lime;
		position: relative;
		@include rempx(top, 6px);
		@include rempx(margin-right, 20px);


		svg {
			@include rempx(width, 32px);
			@include rempx(height, 32px);
			@include rempx(margin-right, -3px);
		}
	}





.c-comments__header__ratings {
	@include rempx(margin, 0 0 0 36px);


	.c-comment__title__stars {
		margin-right: 0;
	}


	.c-comments__header__ratings__total {
		font-weight: normal;
		letter-spacing: 0em;
		@include rempx(font-size, 20px);
	}
}





.acf-field .description {
	@include rempx(margin, 0 0 12px);
}


.acf-field[data-name="comments__rating"] {
	ul {
		padding: 0;
		@include rempx(margin, 0 0 24px);
	}


		li {
			display: inline-block;
			@include rempx(padding, 0 12px 0 0);


			label {
				margin: 0;
				cursor: pointer;
				white-space: nowrap;
				background: $grey--light;
				box-shadow: 0 0 0 3px rgba(0,0,0,0);
				@include rempx(padding, 8px 20px 0);
				@include rempx(border-radius, 30px);
				@include mangui-transition(ease-in-out 400ms all);


				&.selected {
					color: #FFF;
					background: $green;


					&:hover, &:active, &:focus {
						color: #FFF;
						background: $green;
					}


					input[type="radio"] {
						background: $green;
						border-color: #FFF;
					}
				}


				&:hover, &:active, &:focus {
					color: #FFF;
					background: $green;
				}


				&:focus {
					box-shadow: 0 0 0 3px $lime;
				}
			}


			input[type="radio"] {
				outline: 0;
				background: #FFF;
				border: 2px solid $lime;
				-webkit-appearance: button;
				@include rempx(width, 18px);
				@include rempx(height, 18px);
				@include rempx(margin, 0 9px 2px 0);
				@include rempx(border-radius, 20px);
				@include mangui-transition(ease-in-out 400ms all);


				&:focus { box-shadow: 0 0 0 3px $lime; }
			}
		}
}





/**
 * [12]	Route > Description > Disclaimer
 */

.c-route__description__disclaimer {
	background: $grey--light;
	@include rempx(font-size, 16px);
	@include rempx(padding, 24px 30px);
	@include rempx(margin, 36px -12px);


	a {
		font-weight: bold;
		color: $green;

		&:hover, &:active, &:focus {
			color: $grey--darker;
		}
	}
}