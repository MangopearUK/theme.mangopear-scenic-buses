jQuery(document).ready(function(e){e(".js-hildon-header").each(function(){var t=e(window).width();if(501>t)var a=t/2;else if(t>1449)var a=t/4;else var a=t/3;if(e(".js-header-image-placeholder").height(a),t>1150){var s=0-a+63;e(".js-hildon-header").waypoint(function(){e(this).toggleClass("is-snapped")},{offset:s})}}),e(".js-hildon-header__top-toggle").on("click",function(){e(this).hasClass("is-active")?(e(this).removeClass("is-active"),e(".js-mobile-nav-container").removeClass("is-showing"),e(".js-close-mobile-nav").removeClass("is-showing")):(e(this).addClass("is-active"),e(".js-mobile-nav-container").addClass("is-showing"),e(".js-close-mobile-nav").addClass("is-showing"))}),e(".js-close-mobile-nav").on("click",function(){e(".js-hildon-header__top-toggle").removeClass("is-active"),e(".js-mobile-nav-container").removeClass("is-showing"),e(".js-close-mobile-nav").removeClass("is-showing")}),e(".js-dismiss-notification").on("click",function(t){t.preventDefault();var a=e(this).data("to-dismiss");e("#"+a).addClass("is-hidden")}),e(".js-snap-notification").each(function(){var t=e(this).width();e(this).find(".o-notification__container").css("width",t),e(window).resize(function(){var t=e(".js-snap-notification").width();e(".js-snap-notification").find(".o-notification__container").css("width",t)}),e(this).waypoint(function(){e(this).toggleClass("is-snapped")},{offset:77})}),e(".js-notification--start-order").each(function(){e("#start-order").waypoint(function(){e(".js-notification--start-order").toggleClass("is-not-relevant")},{offset:75})});var t;e(window).resize(function(){t=setTimeout(function(){e(window).lazyLoadXT({checkDuplicates:!1}),clearTimeout(t)},250)}),e(".js-notification--save-changes").each(function(){e(this).addClass("is-hidden")}),e(".js-save-basket-input input").bind("change",function(){e(".js-notification--save-changes").removeClass("is-hidden")}),e(".js-header__navigation .js-main-nav-top-level-link").on("focusin",function(){e(this).parent().addClass("is-in-focus")}),e(".js-header__navigation .js-main-nav-top-level-link").on("focusout",function(){e(this).parent().removeClass("is-in-focus")}),e(".js-header__navigation .js-nav--sub a").on("focusin",function(){e(this).parent().parent().parent().addClass("is-in-focus")}),e(".js-header__navigation .js-nav--sub a").on("focusout",function(){e(this).parent().parent().parent().removeClass("is-in-focus")}),e(".js-toggle-sub-nav").on("click",function(){var t=e(this).parent();t.hasClass("is-in-focus")?e(t).removeClass("is-in-focus"):(e(".js-header__navigation .o-nav__item").removeClass("is-in-focus"),e(t).addClass("is-in-focus"))}),e(".js-remove-focus").on("click",function(){e(this).parent("li").parent("ul").parent("li").removeClass("is-in-focus")}),e("#department-form-modal").each(function(){var t=document.getElementById("department-form-modal"),a=e("main"),s=new A11yDialog(t,a);e(".js-show-department-form-modal").on("click",function(e){e.preventDefault(),s.show()}),e(".o-form--department .frm_error_style").each(function(){s.show()})}),e("#resource-library-login-modal").each(function(){var t=document.getElementById("resource-library-login-modal"),a=document.getElementById("main-resource-library"),s=new A11yDialog(t,a);s.show(),e(".js-library-login").on("click",function(){var t=e("#library-id").val(),a=e("#email-address").val(),i={action:"hildon_resource_library_validate_email",library:t,emailAddress:a};e.post(hildon_ajax.ajax_url,i,function(t){"true"==t?(s.hide(),e(".js-library-content").removeClass("u-hide"),e(".js-resource-library-notification").removeClass("u-hide")):e(".js-resource-library-error").removeClass("u-hide")})})}),e(".js-donation-counter").each(function(){setTimeout(function(){e(".js-donation-counter").removeClass("has-animation")},1e3)}),e(".js-nav-toggle").click(function(){e(".js-header__navigation").hasClass("u-portable--hide")?(e(".js-hildon-header").addClass("is-open"),e(".js-header__navigation").removeClass("u-portable--hide"),e(".js-toggle-top-nav").removeClass("u-portable--hide"),e(".js-toggle-phone-number").removeClass("u-portable--hide")):(e(".js-hildon-header").removeClass("is-open"),e(".js-header__navigation").addClass("u-portable--hide"),e(".js-toggle-top-nav").addClass("u-portable--hide"),e(".js-toggle-phone-number").addClass("u-portable--hide"))}),e(".js-tweetie").twittie({username:"hildonltd",list:null,hashtag:null,count:1,hideReplies:!0,dateFormat:"%b. %d, %Y",template:'<div class="c-twitter__tweet">{{tweet}} <div class="c-twitter__date">{{date}} &nbsp;|&nbsp; Follow <a href="https://twitter.com/HildonLtd" target="_blank">@HildonLtd</a> on Twitter</div></div>',apiPath:"/wp-content/themes/hildon/resources/js/vendor/tweetie/tweet.php"}),e(".js-carousel--testimonials").each(function(){setTimeout(function(){e(".js-carousel--testimonials").owlCarousel({items:1,nav:!0,navText:['<svg fill="currentColor" height="48" viewBox="0 0 24 24" width="48"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>','<svg fill="currentColor" height="48" viewBox="0 0 24 24" width="48"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>'],slideSpeed:500,autoHeight:!0})},500)}),e(".js-carousel--our-products").each(function(){setTimeout(function(){e(".js-carousel--our-products").owlCarousel({items:1,nav:!0,navText:['<svg fill="currentColor" height="48" viewBox="0 0 24 24" width="48"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>','<svg fill="currentColor" height="48" viewBox="0 0 24 24" width="48"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>'],slideSpeed:500,autoHeight:!0})},500)}),e("#frm_form_12_container .frm_page_num_1").each(function(){e(".js-ktc-button-validate").prop("disabled",!0),e(".js-ktc-button-validate .o-button__text").text("Validate your code before continuing"),e('.o-form__field--keepthecap input[type="text"]').bind("keyup",function(){$value=e(this).val(),10==$value.length?e.ajax({url:"/keepthecap/validate/?cap_code="+$value,beforeSend:function(){e(".js-ktc__validate").text("Loading").removeClass("has-failed").removeClass("has-passed").addClass("is-loading")},success:function(t){4==t?($classToAdd="has-passed",$iconToAdd='<svg fill="#FFFFFF" height="32" viewBox="0 0 24 24" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>',e(".js-ktc-button-validate").prop("disabled",!1),e(".js-ktc-button-validate .o-button__text").text("Enter cap into draw")):($classToAdd="has-failed",$iconToAdd='<svg fill="#FFFFFF" height="32" viewBox="0 0 24 24" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'),$textToShow=1==t?'Sorry. There was an error and it was our fault. Please <a href="/contact/">contact Hildon</a> for assistance (reporting error code 1).':2==t?'Sorry. There was an error and it was our fault. Please <a href="/contact/">contact Hildon</a> for assistance (reporting error code 2).':3==t?"The cap code you entered is invalid. Please try again with a correct cap code.":4==t?"<strong>Thank you for entering a valid code.</strong> You can now continue to the next step.":5==t?"The cap code you entered is invalid. Please try again with a correct cap code.":6==t?"The cap code you entered has expired. Please try again with a correct cap code.":7==t?"The cap code you entered has been deleted and is no longer valid. Please try again with a correct cap code.":8==t?"The cap code you entered has been reported as suspicious. Please contact Hildon if you feel this is wrong.":9==t?'Sorry. There was an error and it was our fault. Please <a href="/contact/">contact Hildon</a> for assistance (reporting error code 9).':"Sorry. There was an unknown error. Please try again shortly.",e(".js-ktc__validate").html('<span class="c-ktc__status-icon">'+$iconToAdd+'</span><span class="c-ktc__status-text">'+$textToShow+"</span>").removeClass("has-failed").removeClass("has-passed").removeClass("is-loading").addClass($classToAdd)},error:function(){e(".js-ktc__validate").text("Sorry. Your code has failed. Please try again.").removeClass("is-loading").addClass(".has-failed")}}):$value.length<10?e(".js-ktc__validate").html('<span class="c-ktc__status-icon"><svg fill="#FFFFFF" height="32" viewBox="0 0 24 24" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></span><span class="c-ktc__status-text">Your coupon code is too short. It should be 10 characters long.</span>').addClass("has-failed"):e(".js-ktc__validate").html('<span class="c-ktc__status-icon"><svg fill="#FFFFFF" height="32" viewBox="0 0 24 24" width="32" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></span><span class="c-ktc__status-text">Your coupon code is too long. It should be 10 characters long.</span>').addClass("has-failed")})}),e(".js-ktc-tweetie").twittie({username:"hildonltd",list:null,count:10,hideReplies:!0,dateFormat:"%b. %d, %Y",template:'<div class="c-twitter__tweet">{{tweet}} <div class="c-twitter__date">{{date}}</div></div>',apiPath:"/wp-content/themes/hildon/resources/js/vendor/tweetie/tweet.php"}),e(".js-postcode-lookup__button").bind("click",function(t){t.preventDefault,$thisValue=e(".js-postcode-lookup").val(),""!=$thisValue?($deliveryMessage=hildonOutputDeliveryScheduleMessage($thisValue),e(".js-postcode-lookup__status").removeClass("has-failed").text($deliveryMessage)):e(".js-postcode-lookup__status").addClass("has-failed").text("Please enter a valid postcode.")}),e(".js-range__product-quantity__input").bind("keyup",function(){$newQuantity=e(this).val(),e(this).parent().attr("data-quantity",$newQuantity),e(this).parent().next().attr("data-quantity",$newQuantity)}),e(".js-buy-decrease-quantity").bind("click",function(){var t=e(this).parent().parent().attr("data-quantity");if(t>1){var a=parseInt(t)-1;e(this).parent().parent().find(".js-range__product-quantity__input").val(a),e(this).parent().parent().attr("data-quantity",a),e(this).parent().parent().next().attr("data-quantity",a)}}),e(".js-buy-increase-quantity").bind("click",function(){var t=e(this).parent().parent().attr("data-quantity"),a=parseInt(t)+1;e(this).parent().parent().find(".js-range__product-quantity__input").val(a),e(this).parent().parent().attr("data-quantity",a),e(this).parent().parent().next().attr("data-quantity",a)}),e(".js-our-video").on("click",function(t){t.preventDefault(),e(".js-modal--our-video").removeClass("u-hide").find(".js-modal__content").append('<iframe width="100%" height="100%" src="https://www.youtube.com/embed/UyfVPsmlkLo?rel=0" frameborder="0" allowfullscreen></iframe>')}),e(".js-modal__background").on("click",function(){e(this).parent().addClass("u-hide").find(".js-modal__content iframe").remove()}),e(".js-modal__close").on("click",function(){e(this).parent().parent().addClass("u-hide").find(".js-modal__content iframe").remove()}),e('#frm_form_18_container input[type="email"]').bind("change",function(){var t=e(this).val(),a=[],s=0;e('#frm_form_18_container input[type="email"]').each(function(){var t=e(this).val();a.push(t)});for(var i=0,o=0;o<a.length;o++)a[o]===t&&i++;i>=2?(e(this).parent().append('<div class="o-form__message  o-form__message--error  js-appended-message">This appears to be a duplicate email address.</div>'),e(this).attr("data-disabled",1)):(e(this).parent().find(".js-appended-message").remove(),e(this).attr("data-disabled",0)),e('#frm_form_18_container input[type="email"]').each(function(){var t=e(this).attr("data-disabled");1==t&&s++}),console.log(s),s>=1?e("#frm_form_18_container .o-button--submit").prop("disabled",!0):e("#frm_form_18_container .o-button--submit").prop("disabled",!1)}),e(".js-nsif-video").on("click",function(t){t.preventDefault(),e(".js-modal--nsif-video").removeClass("u-hide").find(".js-modal__content").append('<iframe src="https://player.vimeo.com/video/118025281?autoplay=1&color=822676&title=0&byline=0&portrait=0" width="100%" height="100%" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>')}),e(".js-modal__background").on("click",function(){e(this).parent().addClass("u-hide").find(".js-modal__content iframe").remove()}),e(".js-modal__close").on("click",function(){e(this).parent().parent().addClass("u-hide").find(".js-modal__content iframe").remove()}),e("#salutation_other_field").each(function(){e(this).hide(),e("#salutation").on("change",function(){$thisValue=e(this).val(),"other"==$thisValue?(console.log("Current value = "+$thisValue),e("#salutation_other_field").show()):(console.log("Current value = "+$thisValue),e("#salutation_other_field").hide())})}),e('a[href*="#"]:not([href="#"]), .js-smooth-scroll').on("click",function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);if(t=t.length?t:e("[name="+this.hash.slice(1)+"]"),t.length)return e("html,body").animate({scrollTop:t.offset().top},1e3),!1}}),e("#feedback-dialog").each(function(){var t=document.getElementById("top"),a=document.getElementById("feedback-dialog"),s=new A11yDialog(a,t);e(".js-feedback-start").on("click",function(){e(".js-feedback-dialog").addClass("is-open"),e(".o-form-field--feedback-1").addClass("is-visible")});var i=localStorage.getItem("hildon-feedback");i?(i++,localStorage.setItem("hildon-feedback",i),2==i&&(s.show(),e(".js-feedback-dialog").removeClass("is-hidden"))):localStorage.setItem("hildon-feedback",1),e(".js-feedback-next-step").on("click",function(){var t=e(".js-feedback-dialog").find(".o-form__field.is-visible");e(t).hasClass("o-form-field--feedback-6")&&e(".js-feedback-dialog").addClass("is-on-last-field"),e(t).removeClass("is-visible"),setTimeout(function(){e(t).next().addClass("is-visible")},250)}),e(".js-feedback-submit").on("click",function(){e(".o-form-field--feedback-7").removeClass("is-visible"),e(".c-feedback .o-form__submit").addClass("is-hidden"),e(".js-feedback-dialog").addClass("has-submitted")})})});